<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json" />
  <title>تطبيق متابعة الحفظ</title>
  <style>
    .fa-preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .fa-spinner {
      font-size: 3rem;
      color: #3498db;
      margin-bottom: 1rem;
      animation: fa-spin 2s linear infinite;
    }

    .loading-text {
      font-family: Arial, sans-serif;
      color: #333;
      font-size: 1.2rem;
      letter-spacing: 1px;
    }

    .progress-container {
      width: 200px;
      height: 4px;
      background: #e0e0e0;
      border-radius: 2px;
      margin-top: 1rem;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #3498db, #2ecc71);
      animation: progress 2s ease-in-out infinite;
    }

    @keyframes fa-spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes progress {
      0% {
        width: 0;
      }

      50% {
        width: 100%;
      }

      100% {
        width: 0;
        margin-left: 100%;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.rtl.min.css"
    integrity="sha384-Xbg45MqvDIk1e563NLpGEulpX6AvL404DP+/iCgW9eFa2BqztiwTexswJo2jLMue" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="src/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.2/firebase-ui-auth.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.2/css/dataTables.dataTables.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.2/css/dataTables.bootstrap5.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.2.4/css/buttons.bootstrap5.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
</head>

<body class="container-fluid" style="width: 100vw;margin-bottom: 4rem!important;">
  <!-- Preloader -->
  <div class="fa-preloader">
    <div class="loading-text">بسم الله الرحمن الرحيم</div>
    <div class="progress-container">
      <div class="progress-bar"></div>
    </div>
  </div>
  <div class="tab-content" id="pills-tabContent">

    <div class="tab-pane fade" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <button id="install">Install</button>
      <h1 class="text-center">تطبيق متابعة الحفظ</h1>
      <div id="loginUI">
        <div id="firebaseui-auth-container"></div>
      </div>
      <p id="status"></p>
      <button id="logoutBtn" style="display: none;">Logout</button>
      <div class="files-inputs">
        <button id="newDBbtn"></button>
        <label for="newDBbtn">جديد</label>
      </div>
      <div class="files-inputs">
        <input type="file" id="fileInput">
        <label for="fileInput">📥 استيراد</label>
      </div>
    </div>

    <div class="tab-pane fade" id="pills-summary" role="tabpanel" aria-labelledby="pills-summary-tab">
      <h2 class="text-center mb-4">الملخص</h2>
      
      <div class="date-input-container">
        <div class="date-input-group">
          <span class="date-input-label">القسم الحالي:</span>
          <select id="workingClassroom" class="date-input-field" dir="ltr"></select>
        </div>
      </div>
      <table id="classroomsListTable" class="display responsive nowrap" width="100%">
        <thead>
          <tr>
            <th>#</th>
            <th>المسجد/المدرسة</th>
            <th>المكان</th>
            <th>الجنس</th>
            <th>الفئة</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

    </div>

    <div class="tab-pane fade" id="pills-students" role="tabpanel" aria-labelledby="pills-students-tab">
      <h2 class="text-center mb-4">قائمة التلاميذ</h2>

      <table id="studentsListTable" class="display responsive nowrap" width="100%">
        <thead>
          <tr>
            <th></th>
            <th>الاسم</th>
            <th>العمر</th>
            <th>هاتف الولي</th>
            <th>إجراءات</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="tab-pane fade" id="pills-new_day" role="tabpanel" aria-labelledby="pills-new_day-tab">
      <h2 class="text-center mb-4">التقييم اليومي</h2>
      <div class="date-input-container">
        <div class="date-input-group">
          <span class="date-input-label">تاريخ اليوم:</span>
          <input type="text" id="dayDate" class="date-input-field" dir="ltr" readonly>
          <i class="fas fa-calendar-alt date-icon"></i>
        </div>
      </div>
      <p id="dayNoteContainer" class="border px-2 py-2 mx-2 my-2"></p>

      <table id="dayListTable" style="display: none;" class="display responsive nowrap" width="100%">
        <thead>
          <tr class="text-center">
            <th class=""></th>
            <th class=""></th>
            <th class="px-4">الطالب</th>
            <th class="">الحضور</th>
            <th class="">الكتاب</th>
            <th class="">النوع</th>
            <th class="">المقدار</th>
            <th class="">التقدير</th>
            <th class="">الحفظ</th>
            <th class="">الهندام</t>
            <th class="">الحلاقة</th>
            <th class="">السلوك</th>
            <th class="">الصلاة</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button id="addNewDayBtn" onclick="addNewDay()" class="btn btn-info mx-auto px-5 my-5"
        style="display: none;">إظافة يوم ✚</button>
    </div>

    <div class="tab-pane fade" id="pills-preferences" role="tabpanel" aria-labelledby="pills-preferences-tab">
      <h2 class="text-center mb-4">التفضيلات</h2>
      <div class="accordion" id="accordionExample">
        <div class="card">
          <div class="card-header" id="headingOne">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-start" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                عامة
              </button>
            </h2>
          </div>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
            data-bs-parent="#pills-preferences">
            <div class="card-body">
              اعدادات عامة
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header" id="headingThree">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                البيانات
              </button>
            </h2>
          </div>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
            data-bs-parent="#pills-preferences">
            <div class="files-inputs">
              <button id="newDBbtn"></button>
              <label for="newDBbtn">جديد</label>
            </div>
            <div class="files-inputs">
              <input type="file" id="fileInput">
              <label for="fileInput">📥 استيراد</label>
            </div>
            <div class="files-inputs">
              <button id="downloadBtn"></button>
              <label for="downloadBtn">📤 تصدير</label>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="nav-bar" style="display: none;">
    <button onclick="showTab('pills-summary'); return false;">
      <svg width="256px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.18753 11.3788C4.03002 11.759 4 11.9533 4 12V20.0018C4 20.5529 4.44652 21 5 21H8V15C8 13.8954 8.89543 13 10 13H14C15.1046 13 16 13.8954 16 15V21H19C19.5535 21 20 20.5529 20 20.0018V12C20 11.9533 19.97 11.759 19.8125 11.3788C19.6662 11.0256 19.4443 10.5926 19.1547 10.1025C18.5764 9.1238 17.765 7.97999 16.8568 6.89018C15.9465 5.79788 14.9639 4.78969 14.0502 4.06454C13.5935 3.70204 13.1736 3.42608 12.8055 3.2444C12.429 3.05862 12.1641 3 12 3C11.8359 3 11.571 3.05862 11.1945 3.2444C10.8264 3.42608 10.4065 3.70204 9.94978 4.06454C9.03609 4.78969 8.05348 5.79788 7.14322 6.89018C6.23505 7.97999 5.42361 9.1238 4.8453 10.1025C4.55568 10.5926 4.33385 11.0256 4.18753 11.3788ZM10.3094 1.45091C10.8353 1.19138 11.4141 1 12 1C12.5859 1 13.1647 1.19138 13.6906 1.45091C14.2248 1.71454 14.7659 2.07921 15.2935 2.49796C16.3486 3.33531 17.4285 4.45212 18.3932 5.60982C19.3601 6.77001 20.2361 8.0012 20.8766 9.08502C21.1963 9.62614 21.4667 10.1462 21.6602 10.6134C21.8425 11.0535 22 11.5467 22 12V20.0018C22 21.6599 20.6557 23 19 23H16C14.8954 23 14 22.1046 14 21V15H10V21C10 22.1046 9.10457 23 8 23H5C3.34434 23 2 21.6599 2 20.0018V12C2 11.5467 2.15748 11.0535 2.33982 10.6134C2.53334 10.1462 2.80369 9.62614 3.12345 9.08502C3.76389 8.0012 4.63995 6.77001 5.60678 5.60982C6.57152 4.45212 7.65141 3.33531 8.70647 2.49796C9.2341 2.07921 9.77521 1.71454 10.3094 1.45091Z"
            fill="#0F0F0F" data-darkreader-inline-fill=""
            style="--darkreader-inline-fill: var(--darkreader-background-0f0f0f, #0b0c0d);"></path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-students'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        data-darkreader-inline-fill=""
        style="--darkreader-inline-fill: var(--darkreader-background-ffffff, #181a1b); --darkreader-inline-stroke: var(--darkreader-text-ffffff, #e8e6e3);"
        stroke="#ffffff" stroke-width="0.00024000000000000003" data-darkreader-inline-stroke="">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M20,1H4A1,1,0,0,0,3,2V22a1,1,0,0,0,1,1H20a1,1,0,0,0,1-1V2A1,1,0,0,0,20,1ZM19,21H5V3H19ZM9,8.5a3,3,0,1,1,3,3A3,3,0,0,1,9,8.5Zm-2,9a5,5,0,0,1,10,0,1,1,0,0,1-2,0,3,3,0,0,0-6,0,1,1,0,0,1-2,0Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-new_day'); return false;">
      <svg viewBox="0 -1.5 20.412 20.412" xmlns="http://www.w3.org/2000/svg" fill="#000000"
        data-darkreader-inline-fill="" style="--darkreader-inline-fill: var(--darkreader-background-000000, #000000);">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <g id="check-lists" transform="translate(-1.588 -2.588)">
            <path id="primary" d="M7,4,4.33,7,3,5.5" fill="none" stroke="#000000" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="2" data-darkreader-inline-stroke=""
              style="--darkreader-inline-stroke: var(--darkreader-text-000000, #e8e6e3);"></path>
            <path id="primary-2" data-name="primary" d="M3,11.5,4.33,13,7,10" fill="none" stroke="#000000"
              stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-darkreader-inline-stroke=""
              style="--darkreader-inline-stroke: var(--darkreader-text-000000, #e8e6e3);"></path>
            <path id="primary-3" data-name="primary" d="M3,17.5,4.33,19,7,16" fill="none" stroke="#000000"
              stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-darkreader-inline-stroke=""
              style="--darkreader-inline-stroke: var(--darkreader-text-000000, #e8e6e3);"></path>
            <path id="primary-4" data-name="primary" d="M11,6H21M11,12H21M11,18H21" fill="none" stroke="#000000"
              stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-darkreader-inline-stroke=""
              style="--darkreader-inline-stroke: var(--darkreader-text-000000, #e8e6e3);"></path>
          </g>
        </g>
      </svg>
    </button>

    <button onclick="showTab('pills-preferences'); return false;">
      <svg width="256px" height="30px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" id="Stock_cut"
        version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        fill="#000000" data-darkreader-inline-fill=""
        style="--darkreader-inline-fill: var(--darkreader-background-000000, #000000);">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <desc></desc>
          <g>
            <path
              d="M31,19v-6h-4.425 c-0.252-0.888-0.611-1.729-1.065-2.51L29,7l-4-4l-3.49,3.49C21.028,6.21,20.525,5.967,20,5.761V1h-8v4.761 c-0.525,0.205-1.028,0.449-1.51,0.728L7,3L3,7l3.49,3.49C6.036,11.271,5.676,12.112,5.425,13H1v6h4.425 c0.252,0.888,0.611,1.729,1.065,2.51L3,25l4,4l3.49-3.49c0.482,0.28,0.986,0.523,1.51,0.728V31h8v-4.761 c0.525-0.205,1.028-0.449,1.51-0.728L25,29l4-4l-3.49-3.49c0.454-0.781,0.813-1.622,1.065-2.51H31z"
              fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"
              data-darkreader-inline-stroke=""
              style="--darkreader-inline-stroke: var(--darkreader-text-000000, #e8e6e3);"></path>
            <circle cx="16" cy="16" fill="none" r="5" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10"
              stroke-width="2" data-darkreader-inline-stroke=""
              style="--darkreader-inline-stroke: var(--darkreader-text-000000, #e8e6e3);"></circle>
          </g>
        </g>
      </svg>
    </button>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newClassroomInfosModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newClassroomInfosModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newClassroomInfosModalLabel">معلومات القسم</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="newClassroomInfosForm">
              <input type="hidden" id="classroomId" />
              <label for="mosque">المسجد/المؤسسة:</label>
              <input type="text" id="mosque" class="form-control" required />
              <label for="place">المكان:</label>
              <input type="text" id="place" class="form-control" required />
              <label for="sex">الجنس:</label>
              <select id="sex" class="form-control" required>
                <option value="ذكور">ذكور</option>
                <option value="إناث">إناث</option>
              </select>
              <label for="level">المستوى:</label>
              <input type="text" id="level" class="form-control" required />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
          <button type="submit" class="btn btn-primary">إظافة</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newStudentInfosModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newStudentDayModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newStudentInfosModalLabel">معلومات التلميذ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="newStudentInfosForm">
              <input type="hidden" id="studentId" />
              <label for="name">الاسم:</label>
              <input type="text" id="name" class="form-control" required />
              <label for="birthday">تاريخ الميلاد:</label>
              <input type="date" id="birthday" class="form-control" required />
              <label for="parentPhone">هاتف الولي:</label>
              <input type="text" id="parentPhone" class="form-control"
                title="رقم هاتف جزائري يبدأ بـ 05 أو 06 أو 07 ويتكون من 10 أرقام" required />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
          <button type="submit" class="btn btn-primary">إظافة</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newStudentDayModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newStudentDayModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="studentDayForm">
          <div class="modal-header">
            <h5 class="modal-title" id="newStudentDayModalLabel">يوم التلميذ</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            </button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="studentName">اسم التلميذ:</label>
              <input type="text" class="form-control" id="studentName" readonly />
            </div>
            <div class="mb-3">
              <label for="attendance">الحضور:</label>
              <select class="form-control" id="attendance" required>
                <option value="5">حضور كلي</option>
                <option value="4">حضور شبه كلي</option>
                <option value="3">حضور جزئي</option>
                <option value="2">حضور قليل</option>
                <option value="1">غائب</option>
              </select>
            </div>

            <div class="my-1 d-flex align-items-center">
              <hr class="flex-grow-1">
              <span class="mx-2 text-muted">المطلوب</span>
              <hr class="flex-grow-1">
            </div>
            <div class="table-responsive">
              <table class="table" id="requirementTable" style="display: none;">
                <thead>
                  <tr>
                    <th scope="col">الكتاب</th>
                    <th scope="col">النوع</th>
                    <th scope="col" class="d-none">المقدار</th>
                    <th scope="col">التفاصيل</th>
                    <th scope="col">التقدير</th>
                    <th scope="col">المعدل</th>
                    <th scope="col">الحالة</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
            </div>
            <div class="card px-2 py-2 mb-2">
              <div class="row">
                <div class="col">
                  <div class="mb-3">
                    <label for="requirBook">الكتاب:</label>
                    <input list="requirBookOptions" class="form-control" id="requirBook"
                      placeholder="اختر أو أدخل قيمة..." />
                    <datalist id="requirBookOptions">
                      <option value="القرآن">
                      <option value="الأربعين النووية">
                    </datalist>
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label for="requirType">النوع:</label>
                    <select class="form-control" id="requirType">
                      <option value="حفظ">حفظ</option>
                      <option value="مراجعة">مراجعة</option>
                    </select>
                  </div>
                </div>
                <div class="w-100"></div>

                <div class="mb-3">
                  <label for="">التفاصيل:</label>
                  <textarea type="text" id="requirQuantityDetail" class="form-control"></textarea>
                  <div class="input-group mb-3" id="quranSelectionSection" style="display: none;">
                    <select id="first-surah" class="form-control surah-select">
                      <option value="" selected disabled>من</option>
                    </select>
                    <select id="first-ayah" class="form-control ayah-select" disabled></select>
                    <select id="second-surah" class="form-control surah-select" disabled>
                      <option value="" selected disabled>إلى</option>
                    </select>
                    <select id="second-ayah" class="form-control ayah-select" disabled></select>
                  </div>
                </div>
                <div class="w-100"></div>
                <div class="col">
                  <div class="mb-3">
                    <label for="requirQuantity">المقدار:</label>
                    <input type="number" id="requirQuantity" class="form-control" min="0" step="0.5" />
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label for="requirEvaluation">التقدير:</label>
                    <input type="number" id="requirEvaluation" class="form-control" min="0" max="10" step="0.5" />
                  </div>
                </div>
                <div class="w-100"></div>
                <div class="col">
                  <div class="mb-3">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="requirSwitch" checked>
                      <label class="form-check-label" for="requirSwitch">تعيين كواجب</label>
                    </div>
                  </div>
                </div>
                <div class="col">
                  <div class="">
                    <button type="button" data-requirlength="0" class="btn btn-info mx-auto w-100"
                      id="addQuranSelectionBtn">إظافة +</button>
                  </div>
                </div>
              </div>

            </div>

            <div class="mb-3">
              <label for="requirMoyenne">معدل المطلوب:</label>
              <input type="number" class="form-control" id="requirMoyenne" readonly required />
            </div>
            <div class="my-1 d-flex align-items-center">
              <hr class="flex-grow-1">
              <span class="mx-2 text-muted">الملاحظات الأخرى</span>
              <hr class="flex-grow-1">
            </div>
            <div class="row">
              <div class="col">
                <div class="mb-3">
                  <label for="clothing">الهندام:</label>
                  <select class="form-control" id="clothing" required>
                    <option value="3">جيد</option>
                    <option value="2">مقبول</option>
                    <option value="1">غير مقبول</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="mb-3">
                  <label for="haircut">الحلاقة:</label>
                  <select class="form-control" id="haircut" required>
                    <option value="3">جيد</option>
                    <option value="2">مقبول</option>
                    <option value="1">غير مقبول</option>
                  </select>
                </div>
              </div>
              <div class="w-100"></div>
              <div class="col">
                <div class="mb-3">
                  <label for="behavior">السلوك:</label>
                  <select class="form-control" id="behavior" required>
                    <option value="5">ممتاز</option>
                    <option value="4">جيد</option>
                    <option value="3">مقبول</option>
                    <option value="0">سيئ</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="mb-3">
                  <label for="prayer">الصلاة:</label>
                  <select class="form-control" id="prayer" required>
                    <option value="4">ممتاز</option>
                    <option value="0">غائب</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
            <button id="studentDayFormSubmitBtn" type="submit" class="btn btn-primary">حفظ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="loadingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="loadingModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog modal-sm px-5">
      <div class="modal-content">
        <div class="modal-body text-center">
          <i class="fa-solid fa-circle-notch fa-spin fa-6x"></i>
        </div>
      </div>
    </div>
  </div>

  <div id="toastWrapper" class="toast-wrapper" aria-live="polite" aria-atomic="true"></div>
</body>
<script>
  window.addEventListener('load', function () {
    const preloader = document.querySelector('.fa-preloader');
    preloader.style.opacity = '0';
    setTimeout(() => {
      preloader.style.display = 'none';
    }, 500);
  });
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.13.0/sql-wasm.js"
  integrity="sha512-Yra4xuTWinXfBpG2ftgDX8MVmMiOev1FtqiYs51+kEna/5peD0kZqAL1syYCH61f9gxmAFidIJz42IKcRhWMkw=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/ui/6.0.2/firebase-ui-auth.js"></script>
<script src="https://cdn.datatables.net/2.3.2/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.bootstrap5.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment/min/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

<script src="src/auth.js"></script>
<script src="src/script.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('//service-worker.js').then(function (registration) {
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
      }, function (err) {
        console.log('ServiceWorker registration failed: ', err);
      });
    });
  } else {
    alert('Service Worker is not supported in your browser. Some features may not work offline.');
  }
</script>

</html>