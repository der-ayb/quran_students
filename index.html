<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json" />
  <title>ุชุทุจูู ูุชุงุจุนุฉ ุงูุญูุธ</title>
  <style>
    .fa-preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .fa-spinner {
      font-size: 3rem;
      color: #3498db;
      margin-bottom: 1rem;
      animation: fa-spin 2s linear infinite;
    }

    .loading-text {
      font-family: Arial, sans-serif;
      color: #333;
      font-size: 1.2rem;
      letter-spacing: 1px;
    }

    .progress-container {
      /* width: 200px; */
      height: 4px;
      background: #e0e0e0;
      border-radius: 2px;
      margin-top: 1rem;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #3498db, #2ecc71);
      animation: progress 2s ease-in-out infinite;
    }

    @keyframes fa-spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes progress {
      0% {
        width: 0;
      }

      50% {
        width: 100%;
      }

      100% {
        width: 0;
        margin-left: 100%;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.8/spacelab/bootstrap.rtl.min.css"
    id="themeStylesheet">
  <link type="text/css" rel="stylesheet" href="src/fonts.css" />
  <link type="text/css" rel="stylesheet" href="src/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />

  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.4/css/dataTables.dataTables.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.4/css/dataTables.bootstrap5.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.2.5/css/buttons.bootstrap5.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/select/3.1.3/css/select.bootstrap5.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <link rel='stylesheet' href='src/yearpicker.css' />
</head>

<body class="container-fluid" style="width: 100vw;margin-bottom: 4rem!important;">
  <!-- Preloader -->
  <div class="fa-preloader">
    <div class="loading-text">ุจุณู ุงููู ุงูุฑุญูู ุงูุฑุญูู</div>
    <div class="progress-container" style="width: 200px;">
      <div class="progress-bar"></div>
    </div>
  </div>
  <div class="tab-content" id="pills-tabContent">

    <div class="tab-pane fade" id="pills-splash" role="tabpanel" aria-labelledby="pills-splash-tab">
      <div class="row">
        <h1 class="col text-center">ุชุทุจูู ูุชุงุจุนุฉ 111ุงูุญูุธ</h1>
        <button class="col-2 btn btn-danger btn-sm" id="installBtn1" hidden>ุชุซุจูุช</button>
      </div>

      <button id="googleSigninBtn" class="google_signin_button mx-auto" onclick="googleSignin()">
        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 262">
          <path fill="#4285F4"
            d="M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027">
          </path>
          <path fill="#34A853"
            d="M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1">
          </path>
          <path fill="#FBBC05"
            d="M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782">
          </path>
          <path fill="#EB4335"
            d="M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251">
          </path>
        </svg>
        ุชุณุฌูู ุงูุฏุฎูู
      </button>
      <div style="display: flex;" class="btn-group mt-3" role="group" aria-label="Basic example">
        <button type="button" onclick="createNewDB()" class="btn btn-primary">โ ุฌุฏูุฏ</button>
        <label for="importDBbtn" class="btn btn-primary mb-0">
          ๐ฅ ุงุณุชูุฑุงุฏ
          <input type="file" id="importDBbtn" class="d-none">
        </label>
      </div>
    </div>

    <div class="tab-pane fade" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <h2 class="text-center mb-4">ุงูุฑุฆูุณูุฉ</h2>

      <div class="date-input-container">
        <div class="date-input-group">
          <select id="workingClassroom" class="form-select"></select>
        </div>
      </div>
      <table id="classroomsListTable" class="display responsive nowrap" width="100%">
        <thead>
          <tr>
            <th>#</th>
            <th>ุงููุณุฌุฏ/ุงููุฏุฑุณุฉ</th>
            <th>ุงูููุงู</th>
            <th>ุงูุฌูุณ</th>
            <th>ุงููุฆุฉ</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

    </div>

    <div class="tab-pane fade" id="pills-students" role="tabpanel" aria-labelledby="pills-students-tab">
      <h2 class="text-center mb-4">ูุงุฆูุฉ ุงูุชูุงููุฐ</h2>

      <table id="studentsListTable" class="display responsive nowrap" width="100%">
        <thead>
          <tr>
            <th></th>
            <th>#</th>
            <th>ุงูุงุณู</th>
            <th>ุงูุนูุฑ</th>
            <th>ูุงุชู ุงูููู</th>
            <th>ุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="tab-pane fade" id="pills-new_day" role="tabpanel" aria-labelledby="pills-new_day-tab">
      <h2 class="text-center mb-4">ุงูุชูููู ุงููููู</h2>
      <div class="date-input-container">
        <div class="date-input-group">
          <span class="date-input-label">ุงูุชุงุฑูุฎ:</span>
          <input type="text" id="dayDate" class="date-input-field" readonly>
          <i class="fas fa-calendar-alt date-icon" onclick="changeDayDate(new Date().toISOString().slice(0, 10));"></i>
        </div>
      </div>
      <p id="dayNoteContainer" class="border px-2 py-2 mx-2 my-2"></p>

      <table id="dayListTable" style="display: none;" class="display responsive nowrap" width="100%">
        <thead>
          <tr class="text-center">
            <th class=""></th>
            <th class=""></th>
            <th class="px-4">ุงูุทุงูุจ</th>
            <th class="">ุงูุญุถูุฑ</th>
            <th class="">ุงูุนูุงูุฉ</th>
            <th class="">ุงูููุฏุงู</t>
            <th class="">ุงูุญูุงูุฉ</th>
            <th class="">ุงูุณููู</th>
            <th class="">ุงูุตูุงุฉ</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button id="addNewDayBtn" onclick="addNewDay()" class="btn btn-info mx-auto px-5 my-5"
        style="display: none;">ุฅุธุงูุฉ ููู โ</button>
    </div>

    <div class="tab-pane fade" id="pills-statistics" role="tabpanel" aria-labelledby="pills-statistics-tab">
      <h2 class="text-center mb-4">ุงูุฅุญุตุงุฆูุงุช</h2>

      <div class="date-input-container">
        <div class="date-input-group">
          <span class="date-input-label">ุงููุชุฑุฉ:</span>
          <input type="text" id="statisticsrange" class="date-input-field" readonly>
          <i class="fas fa-calendar-alt date-icon"></i>
        </div>
      </div>

      <select id="statisticType" onchange="handleStatisticsSelection(this.value)" class="form-select my-2 text-center"
        aria-label="Default select example">
        <option value="0">-- ุงุฎุชุฑ ููุน ุงูุฅุญุตุงุก --</option>
        <option value="attendance">ูุงุฆูุฉ ุงูุบูุงุจ</option>
        <option value="results">ุงููุชุงุฆุฌ</option>
        <option value="bulletins">ูุดูู ุงูููุงุท</option>
      </select>

      <table id="statisticsTable" class="display" style="width:100%"></table>
      <embed style="display:none;" id="statisticsPdfViewer" src="" type="application/pdf" width="99%" height="500px" />
    </div>

    <div class="tab-pane fade" id="pills-preferences" role="tabpanel" aria-labelledby="pills-preferences-tab">
      <h2 class="text-center mb-4">ุงูุชูุถููุงุช</h2>
      <div class="accordion">
        <div class="card">
          <div class="card-header" id="headingOne">
            <h2 class="mb-0 d-flex justify-content-between">
              <button class="btn btn-link btn-block text-start" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                ุนุงูุฉ
              </button>
              <button class="btn btn-danger" id="installBtn2" hidden>ุชุซุจูุช ุงูุชุทุจูู</button>
            </h2>
          </div>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
            data-bs-parent="#pills-preferences">
            <div class="card-body">
              <div class="input-group mb-3">
                <span class="input-group-text">ุงูุณูุฉ</span>
                <select id="themeSelector" class="form-select">
                  <option value="spacelab" selected>Spacelab</option>
                  <option value="cerulean">Cerulean</option>
                  <option value="yeti">Yeti</option>
                  <option value="flatly">Flatly</option>
                  <option value="slate">Slate (dark)</option>
                  <option value="solar">Solar (dark)</option>
                </select>
              </div>
              <div class="input-group mb-3">
                <span class="input-group-text">ุงูุฎุท</span>
                <select class="form-select" id="fontSelect">
                  <option value='"Noto Sans Arabic", sans-serif'>Noto Sans Arabic</option>
                  <option value='"Rubik", sans-serif'>Rubik</option>
                  <option value='"Changa", sans-serif'>Changa</option>
                  <option value='"Readex Pro", sans-serif'>Readex</option>
                  <option value='"Markazi Text", serif'>Markazi</option>
                </select>
              </div>
            </div>
          </div>
        </div>


        <div class="card">
          <div class="card-header" id="headingThree">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                ุงูุจูุงูุงุช
              </button>
            </h2>
          </div>
          <div id="collapseThree" class="accordion-collapse collapse text-center my-3" aria-labelledby="headingThree"
            data-bs-parent="#pills-preferences">

            <!-- <div id="g_id_onload"
                 data-client_id="233292477998-p0cdmaicj108fcp76fk5tpisb6qdmmgc.apps.googleusercontent.com"
                 data-callback="handleCredentialResponse">
            </div> -->

            <div id="loginStatus">
              <div class="progress-container mx-5">
                <div class="progress-bar"></div>
              </div>
            </div>

            <div class="btn-group mt-3" role="group" aria-label="Basic example">
              <button type="button" onclick="createNewDB()" class="btn btn-primary">โ ุฌุฏูุฏ</button>
              <label for="importDBbtn" class="btn btn-primary mb-0">
                ๐ฅ ุงุณุชูุฑุงุฏ
                <input type="file" id="importDBbtn" class="d-none">
              </label>
              <button type="button" id="downloadDBbtn" class="btn btn-primary">๐ค ุชุตุฏูุฑ</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="nav-bar" style="display: none;">
    <button onclick="showTab('pills-home'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff" stroke-width="0.5">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M9 17.25C8.58579 17.25 8.25 17.5858 8.25 18C8.25 18.4142 8.58579 18.75 9 18.75H15C15.4142 18.75 15.75 18.4142 15.75 18C15.75 17.5858 15.4142 17.25 15 17.25H9Z">
          </path>
          </path>
          <path
            d="M12 1.25C11.2919 1.25 10.6485 1.45282 9.95055 1.79224C9.27585 2.12035 8.49642 2.60409 7.52286 3.20832L5.45628 4.4909C4.53509 5.06261 3.79744 5.5204 3.2289 5.95581C2.64015 6.40669 2.18795 6.86589 1.86131 7.46263C1.53535 8.05812 1.38857 8.69174 1.31819 9.4407C1.24999 10.1665 1.24999 11.0541 1.25 12.1672V13.7799C1.24999 15.6837 1.24998 17.1866 1.4027 18.3616C1.55937 19.567 1.88856 20.5401 2.63236 21.3094C3.37958 22.0824 4.33046 22.4277 5.50761 22.5914C6.64849 22.75 8.10556 22.75 9.94185 22.75H14.0581C15.8944 22.75 17.3515 22.75 18.4924 22.5914C19.6695 22.4277 20.6204 22.0824 21.3676 21.3094C22.1114 20.5401 22.4406 19.567 22.5973 18.3616C22.75 17.1866 22.75 15.6838 22.75 13.7799V12.1672C22.75 11.0541 22.75 10.1665 22.6818 9.4407C22.6114 8.69174 22.4646 8.05812 22.1387 7.46263C21.8121 6.86589 21.3599 6.40669 20.7711 5.95581C20.2026 5.5204 19.4649 5.06262 18.5437 4.49091L16.4771 3.20831C15.5036 2.60409 14.7241 2.12034 14.0494 1.79224C13.3515 1.45282 12.7081 1.25 12 1.25ZM8.27953 4.50412C9.29529 3.87371 10.0095 3.43153 10.6065 3.1412C11.1882 2.85833 11.6002 2.75 12 2.75C12.3998 2.75 12.8118 2.85833 13.3935 3.14119C13.9905 3.43153 14.7047 3.87371 15.7205 4.50412L17.7205 5.74537C18.6813 6.34169 19.3559 6.76135 19.8591 7.1467C20.3487 7.52164 20.6303 7.83106 20.8229 8.18285C21.0162 8.53589 21.129 8.94865 21.1884 9.58104C21.2492 10.2286 21.25 11.0458 21.25 12.2039V13.725C21.25 15.6959 21.2485 17.1012 21.1098 18.1683C20.9736 19.2163 20.717 19.8244 20.2892 20.2669C19.8649 20.7058 19.2871 20.9664 18.2858 21.1057C17.2602 21.2483 15.9075 21.25 14 21.25H10C8.09247 21.25 6.73983 21.2483 5.71422 21.1057C4.71286 20.9664 4.13514 20.7058 3.71079 20.2669C3.28301 19.8244 3.02642 19.2163 2.89019 18.1683C2.75149 17.1012 2.75 15.6959 2.75 13.725V12.2039C2.75 11.0458 2.75076 10.2286 2.81161 9.58104C2.87103 8.94865 2.98385 8.53589 3.17709 8.18285C3.36965 7.83106 3.65133 7.52164 4.14092 7.1467C4.6441 6.76135 5.31869 6.34169 6.27953 5.74537L8.27953 4.50412Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-students'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff" stroke-width="0.0024000000000000003">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M20,1H4A1,1,0,0,0,3,2V22a1,1,0,0,0,1,1H20a1,1,0,0,0,1-1V2A1,1,0,0,0,20,1ZM19,21H5V3H19ZM9,8.5a3,3,0,1,1,3,3A3,3,0,0,1,9,8.5Zm-2,9a5,5,0,0,1,10,0,1,1,0,0,1-2,0,3,3,0,0,0-6,0,1,1,0,0,1-2,0Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-new_day'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff" stroke-width="0.0024000000000000003">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M11 6L21 6.00072M11 12L21 12.0007M11 18L21 18.0007M3 11.9444L4.53846 13.5L8 10M3 5.94444L4.53846 7.5L8 4M4.5 18H4.51M5 18C5 18.2761 4.77614 18.5 4.5 18.5C4.22386 18.5 4 18.2761 4 18C4 17.7239 4.22386 17.5 4.5 17.5C4.77614 17.5 5 17.7239 5 18Z"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-statistics'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M4,23a1,1,0,0,1-1-1V19a1,1,0,0,1,2,0v3A1,1,0,0,1,4,23Zm9-1V15a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Zm7-11a1,1,0,0,0-1,1V22a1,1,0,0,0,2,0V12A1,1,0,0,0,20,11Zm.382-9.923A.991.991,0,0,0,20,1H16a1,1,0,0,0,0,2h1.586L12,8.586,8.707,5.293a1,1,0,0,0-1.414,0l-4,4a1,1,0,0,0,1.414,1.414L8,7.414l3.293,3.293a1,1,0,0,0,1.414,0L19,4.414V6a1,1,0,0,0,2,0V2a1,1,0,0,0-.618-.923Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-preferences'); return false;">
      <svg viewBox="0 0 24 24" width="256px" height="30px" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path d="M6 5V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
          <path d="M12 5V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
          <path d="M18 5V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
          <path
            d="M8.5 16C8.5 17.3807 7.38071 18.5 6 18.5C4.61929 18.5 3.5 17.3807 3.5 16C3.5 14.6193 4.61929 13.5 6 13.5C7.38071 13.5 8.5 14.6193 8.5 16Z"
            fill="#ffffff"></path>
          <path
            d="M14.5 9C14.5 10.3807 13.3807 11.5 12 11.5C10.6193 11.5 9.5 10.3807 9.5 9C9.5 7.61929 10.6193 6.5 12 6.5C13.3807 6.5 14.5 7.61929 14.5 9Z"
            fill="#ffffff"></path>
          <path
            d="M20.5 16C20.5 17.3807 19.3807 18.5 18 18.5C16.6193 18.5 15.5 17.3807 15.5 16C15.5 14.6193 16.6193 13.5 18 13.5C19.3807 13.5 20.5 14.6193 20.5 16Z"
            fill="#ffffff"></path>
        </g>
      </svg>
    </button>
    <button id="maximizeModalBtn" style="display: none;">
      <svg width="256px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M11.9999 2C16.714 2 19.071 2 20.5354 3.46447C21.9999 4.92893 21.9999 7.28595 21.9999 12C21.9999 16.714 21.9999 19.0711 20.5354 20.5355C19.1784 21.8926 17.055 21.9921 12.9999 21.9994M2.00049 11C2.00779 6.94493 2.10734 4.8215 3.46438 3.46447C4.43813 2.49071 5.8065 2.16443 8 2.0551"
            stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
          <path d="M12 12L17 7M17 7H13.25M17 7V10.75" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"
            stroke-linejoin="round"></path>
          <path
            d="M2 18C2 16.1144 2 15.1716 2.58579 14.5858C3.17157 14 4.11438 14 6 14C7.88562 14 8.82843 14 9.41421 14.5858C10 15.1716 10 16.1144 10 18C10 19.8856 10 20.8284 9.41421 21.4142C8.82843 22 7.88562 22 6 22C4.11438 22 3.17157 22 2.58579 21.4142C2 20.8284 2 19.8856 2 18Z"
            stroke="#ffffff" stroke-width="1.5"></path>
        </g>
      </svg>
    </button>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newClassroomInfosModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newClassroomInfosModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newClassroomInfosModalLabel">ูุนูููุงุช ุงููุณู</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="newClassroomInfosForm">
            <input type="hidden" id="classroomId" />
            <label for="mosque">ุงููุณุฌุฏ/ุงููุคุณุณุฉ:</label>
            <input type="text" id="mosque" class="form-control" required />
            <label for="place">ุงูููุงู:</label>
            <input type="text" id="place" class="form-control" required />
            <label for="sex">ุงูุฌูุณ:</label>
            <select id="sex" class="form-control" required>
              <option value="ุฐููุฑ">ุฐููุฑ</option>
              <option value="ุฅูุงุซ">ุฅูุงุซ</option>
            </select>
            <label for="level">ุงููุณุชูู:</label>
            <input type="text" id="level" class="form-control" required />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ุฅุบูุงู</button>
          <button type="submit" class="btn btn-primary">ุฅุธุงูุฉ</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newStudentInfosModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newStudentDayModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newStudentInfosModalLabel">ูุนูููุงุช ุงูุชูููุฐ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="newStudentInfosForm">
            <input type="hidden" id="studentId" />
            <label>ุงูุงุณู ูุงูููุจ:</label>
            <div class="input-group">
              <input type="text" id="fname" aria-label="First name" class="form-control" required>
              <input type="text" id="lname" aria-label="Last name" class="form-control" required>
            </div>
            <label for="birthyear">ุณูุฉ ุงููููุงุฏ:</label>
            <input type="text" id="birthyear" class="form-control" required readonly />
            <label for="parentPhone">ูุงุชู ุงูููู:</label>
            <input type="text" id="parentPhone" class="form-control"
              title="ุฑูู ูุงุชู ุฌุฒุงุฆุฑู ูุจุฏุฃ ุจู 05 ุฃู 06 ุฃู 07 ููุชููู ูู 10 ุฃุฑูุงู" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ุฅุบูุงู</button>
          <button type="submit" class="btn btn-primary">ุฅุธุงูุฉ</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newStudentDayModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newStudentDayModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newStudentDayModalLabel" style="white-space: nowrap;">ููู ุงูุชูููุฐ</h5>
          <input type="text" class="form-control mx-2" id="studentName" readonly />
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="studentDayForm">
            <div class="mb-3 text-center">
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="attendance" id="present" autocomplete="off"
                  onchange="onChangeAttendanceState(this);studentDayFormSubmitBtn.disabled = false">
                <label class="btn btn-outline-primary" for="present">ุญุงุถุฑ</label>
                <input type="radio" class="btn-check" name="attendance" id="UnjustifiedAbsence" autocomplete="off"
                  onchange="onChangeAttendanceState(this);studentDayFormSubmitBtn.disabled = false" checked>
                <label class="btn btn-outline-primary" for="UnjustifiedAbsence">ุบูุงุจ ุบูุฑ ูุจุฑุฑ</label>
                <input type="radio" class="btn-check" name="attendance" id="JustifiedAbsence" autocomplete="off"
                  onchange="onChangeAttendanceState(this);studentDayFormSubmitBtn.disabled = false">
                <label class="btn btn-outline-primary" for="JustifiedAbsence">ุบูุงุจ ูุจุฑุฑ</label>
              </div>
            </div>
            <div class="accordion" id="newStudentDayModalBody">
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse"
                    data-bs-target="#evaluationCollapse" aria-expanded="true" aria-controls="evaluationCollapse">
                    ุงูุชูููู ุงููุณุชูุฑ
                  </button>
                </h2>
                <div id="evaluationCollapse" class="accordion-collapse collapse show"
                  data-bs-parent="#newStudentDayModalBody">
                  <div class="accordion-body">
                    <div class="row">
                      <div class="col">
                        <div class="mb-3">
                          <label for="retard">ููุช ุงูุญุถูุฑ:</label>
                          <div class="mb-3 input-group">
                            <input type="number" step="1" min="0" class="form-control" id="retard" />
                            <span class="input-group-text">ุฏูููุฉ</span>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="behavior">ุงูุณููู:</label>
                          <select class="form-control text-center" id="behavior">
                            <option value="5">ููุชุงุฒ</option>
                            <option value="4">ุฌูุฏ</option>
                            <option value="3">ููุจูู</option>
                            <option value="0">ุจุฏูู ุชูููู</option>
                            <option value="-5">ุณูุฆ</option>
                            <option value="-10">ุณูุฆ ุฌุฏุง</option>
                          </select>
                        </div>
                      </div>
                      <div class="w-100"></div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="clothing">ุงูููุฏุงู:</label>
                          <select class="form-control text-center" id="clothing">
                            <option value="3">ุฌูุฏ</option>
                            <option value="2">ุญุณู</option>
                            <option value="0">ุจุฏูู ุชูููู</option>
                            <option value="-1">ุบูุฑ ููุจูู</option>
                          </select>
                        </div>
                      </div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="haircut">ุงูุญูุงูุฉ:</label>
                          <select class="form-control text-center" id="haircut">
                            <option value="5">ุฌูุฏ</option>
                            <option value="2">ููุจูู</option>
                            <option value="0">ุจุฏูู ุชูููู</option>
                            <option value="-5">ุบูุฑ ููุจูู</option>
                          </select>
                        </div>
                      </div>
                      <div class="w-100"></div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="prayer">ุงูุตูุงุฉ:</label>
                          <div class="input-group mb-3">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-minus"></i></button>
                            <input type="number" id="prayer" class="form-control text-center" value="0" step="5"
                              min="-1000" max="1000" placeholder="" aria-label="Example text with button addon"
                              aria-describedby="button-addon1">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-plus"></i></button>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="addedPoints">ููุงุท ุฅุธุงููุฉ:</label>
                          <div class="input-group mb-3">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-minus"></i></button>
                            <input type="number" id="addedPoints" class="form-control text-center" value="0" min="-1000"
                              max="1000" step="1" placeholder="" aria-label="Example text with button addon"
                              aria-describedby="button-addon1">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-plus"></i></button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="input-group my-3">
                      <span class="input-group-text">ุงููุฌููุน:</span>
                      <input type="number" class="form-control text-center fw-bold" id="evalMoyenne" readonly
                        required />
                      <span class="input-group-text">ููุทุฉ</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#requirCollapse" aria-expanded="false" aria-controls="requirCollapse">
                    ุงููุทููุจ
                  </button>
                </h2>
                <div id="requirCollapse" class="accordion-collapse collapse" data-bs-parent="#newStudentDayModalBody">
                  <div class="accordion-body px-2">
                    <div class="table-responsive my-3">
                      <table class="table" id="requirementTable">
                        <thead>
                          <tr>
                            <th scope="col">ุงููุชุงุจ</th>
                            <th scope="col">ุงูููุน</th>
                            <th scope="col" class="d-none">ุงูููุฏุงุฑ</th>
                            <th scope="col">ุงูุชูุงุตูู</th>
                            <th scope="col">ุงูุชูุฏูุฑ</th>
                            <th scope="col">ุงูุฃุฎุทุงุก</th>
                            <th scope="col">ุงููุนุฏู</th>
                            <th scope="col">ุงููุนุฑุถ</th>
                            <th scope="col">ุงูุญุงูุฉ</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody>
                        </tbody>
                      </table>
                    </div>
                    <!-- <div class="card px-2 py-2 mb-2"> -->
                    <div class="row">
                      <div class="col">
                        <div class="mb-3">
                          <label for="requirBook">ุงููุชุงุจ:</label>
                          <input list="requirBookOptions" class="form-control" id="requirBook"
                            placeholder="ุงุฎุชุฑ ุฃู ุฃุฏุฎู ูููุฉ..." />
                          <datalist id="requirBookOptions">
                            <option value="ุงููุฑุขู ุงููุฑูู">
                            <option value="ุงูุฃุฑุจุนูู ุงูููููุฉ">
                          </datalist>
                        </div>
                      </div>
                      <div class="col-5">
                        <div class="mb-3">
                          <label for="requirType">ุงูููุน:</label>
                          <select class="form-control text-center" id="requirType">
                            <option value="ุญูุธ">ุญูุธ</option>
                            <option value="ูุฑุงุฌุนุฉ">ูุฑุงุฌุนุฉ</option>
                          </select>
                        </div>
                      </div>
                      <div class="w-100"></div>
                      <label class="mb-3">ุงูุชูุงุตูู:</label>
                      <div>
                        <textarea type="text" id="requirQuantityDetail" class="form-control mb-3"></textarea>
                      </div>
                      <div id="quranSelectionSection" class="mb-3" style="display: none;">
                        <div class="row g-0">
                          <div class="col-4">
                            <select id="first-surah" class="form-select surah-select px-2">
                              <option value="" selected disabled>ูู</option>
                            </select>
                          </div>
                          <div class="col-8">
                            <select id="first-ayah" class="form-select ayah-select text-truncate px-3"
                              disabled></select>
                          </div>
                        </div>
                        <div class="row g-0">
                          <div class="col-4">
                            <select id="second-surah" class="form-select surah-select px-2" disabled>
                              <option value="" selected disabled>ุฅูู</option>
                            </select>
                          </div>
                          <div class="col-8">
                            <select id="second-ayah" style="direction: ltr;" class="form-select ayah-select text-truncate"
                              disabled></select>
                          </div>
                        </div>
                      </div>
                      <div class="w-100"></div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="saveStateErrors">ุงูุฃุฎุทุงุก ูู ุงูุญูุธ:</label>
                          <div class="input-group mb-3">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-minus fa-2x"></i></button>
                            <input type="number" id="saveStateErrors" class="form-control text-center" value="0" min="0"
                              max="1000" step="1" placeholder="" aria-label="Example text with button addon"
                              aria-describedby="button-addon1">
                            <button class="btn btn-sm btn-outline-secondary " type="button"><i
                                class="fa-regular fa-square-plus fa-2x"></i></button>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="saveStopErrors">ุนุฏุฏ ูุฑุงุช ุงููุชุญ:</label>
                          <div class="input-group mb-3">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-minus fa-2x"></i></button>
                            <input type="number" id="saveStopErrors" class="form-control text-center" value="0" min="0"
                              max="1000" step="1" placeholder="" aria-label="Example text with button addon"
                              aria-describedby="button-addon1">
                            <button class="btn btn-sm btn-outline-secondary" type="button"><i
                                class="fa-regular fa-square-plus fa-2x"></i></button>
                          </div>
                        </div>
                      </div>
                      <div class="w-100"></div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="requirQuantity">ุงูููุฏุงุฑ:</label>
                          <input type="number" id="requirQuantity" class="form-control text-center" min="0"
                            step="0.5" />
                        </div>
                      </div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="requirEvaluation">ุงูุชูุฏูุฑ:</label>
                          <input type="number" id="requirEvaluation" class="form-control text-center" min="0" max="10"
                            step="0.5" />
                        </div>
                      </div>
                      <div class="w-100"></div>
                      <div class="col">
                        <div class="mb-3">
                          <label for="requirTeacher">ุนุฑุถ ุนูู:</label>
                          <select class="form-control text-center" id="requirTeacher">
                            <option value="0">ุงููุนูู</option>
                          </select>
                        </div>
                      </div>
                      <div class="col">
                        <div class="mt-4">
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="requirObligation" checked>
                            <label class="form-check-label" for="requirObligation">ุชุนููู ููุงุฌุจ</label>
                          </div>
                        </div>
                      </div>
                      <div class="mb-3">
                        <button type="button" data-requirlength="0" class="btn btn-info mx-auto w-100"
                          id="addQuranSelectionBtn">ุฅุธุงูุฉ +</button>
                      </div>
                    </div>
                    <!-- </div> -->
                    <div class="input-group my-3">
                      <span class="input-group-text">ุงููุฌููุน:</span>
                      <input type="number" class="form-control text-center fw-bold" id="requirMoyenne" readonly
                        required />
                      <span class="input-group-text">ููุทุฉ</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
            onclick="minimizeModal(); return false;">ุชุตุบูุฑ</button>
          <div>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ุฅุบูุงู</button>
            <button id="studentDayFormSubmitBtn" class="btn btn-primary">ุญูุธ</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="loadingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="loadingModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog modal-sm px-5">
      <div class="modal-content">
        <div class="modal-body text-center mx-auto">
          <label class="font-monospace" id="loadingText">ุฌุงุฑู ุชุญููู ุงููููุงุช...</label>
          <div class="progress-container">
            <div class="progress-bar"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="toastWrapper" class="toast-wrapper" aria-live="polite" aria-atomic="true"></div>
</body>
<script>
  window.addEventListener('load', function () {
    const preloader = document.querySelector('.fa-preloader');
    preloader.style.opacity = '0';
    setTimeout(() => {
      preloader.style.display = 'none';
    }, 500);
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.13.0/sql-wasm.js"></script>
<script src="https://cdn.datatables.net/2.3.4/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.3.4/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/select/3.1.3/js/dataTables.select.min.js"></script>
<script src="https://cdn.datatables.net/select/3.1.3/js/select.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.5/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.5/js/buttons.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.5/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.5/js/buttons.html5.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.5/js/buttons.print.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/locale/ar-dz.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/downloadjs@1.4.7/download.min.js"></script>
<script src='src/yearpicker.js'></script>
<script src="src/pdfmake.js"></script>
<script src="src/vfs_fonts.js"></script>

<script src="install.js"></script>
<script src="src/script.js"></script>
<script src="src/auth.js"></script>

</html>