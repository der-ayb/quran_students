<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json" />
  <title>تطبيق متابعة الحفظ</title>
  <style>
    .fa-preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .fa-spinner {
      font-size: 3rem;
      color: #3498db;
      margin-bottom: 1rem;
      animation: fa-spin 2s linear infinite;
    }

    .loading-text {
      font-family: Arial, sans-serif;
      color: #333;
      font-size: 1.2rem;
      letter-spacing: 1px;
    }

    .progress-container {
      width: 200px;
      height: 4px;
      background: #e0e0e0;
      border-radius: 2px;
      margin-top: 1rem;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #3498db, #2ecc71);
      animation: progress 2s ease-in-out infinite;
    }

    @keyframes fa-spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes progress {
      0% {
        width: 0;
      }

      50% {
        width: 100%;
      }

      100% {
        width: 0;
        margin-left: 100%;
      }
    }
  </style>
  <link id="themeStylesheet" rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.8/spacelab/bootstrap.rtl.min.css">
  <link type="text/css" rel="stylesheet" href="src/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.2/firebase-ui-auth.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.2/css/dataTables.dataTables.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/2.3.2/css/dataTables.bootstrap5.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.2.4/css/buttons.bootstrap5.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
</head>

<body class="container-fluid" style="width: 100vw;margin-bottom: 4rem!important;">
  <!-- Preloader -->
  <div class="fa-preloader">
    <div class="loading-text">بسم الله الرحمن الرحيم</div>
    <div class="progress-container">
      <div class="progress-bar"></div>
    </div>
  </div>
  <div class="tab-content" id="pills-tabContent">

    <div class="tab-pane fade" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <button id="install">Install</button>
      <h1 class="text-center">تطبيق متابعة الحفظ</h1>
      <div id="loginUI">
        <div id="firebaseui-auth-container"></div>
      </div>
      <p id="status"></p>
      <button id="logoutBtn" style="display: none;">Logout</button>
      <div class="files-inputs">
        <button id="newDBbtn"></button>
        <label for="newDBbtn">جديد</label>
      </div>
      <div class="files-inputs">
        <input type="file" id="fileInput">
        <label for="fileInput">📥 استيراد</label>
      </div>
    </div>

    <div class="tab-pane fade" id="pills-summary" role="tabpanel" aria-labelledby="pills-summary-tab">
      <h2 class="text-center mb-4">الملخص</h2>

      <div class="date-input-container">
        <div class="date-input-group">
          <select id="workingClassroom" class="date-input-field" dir="ltr"></select>
        </div>
      </div>
      <table id="classroomsListTable" class="display responsive nowrap" width="100%">
        <thead>
          <tr>
            <th>#</th>
            <th>المسجد/المدرسة</th>
            <th>المكان</th>
            <th>الجنس</th>
            <th>الفئة</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

    </div>

    <div class="tab-pane fade" id="pills-students" role="tabpanel" aria-labelledby="pills-students-tab">
      <h2 class="text-center mb-4">قائمة التلاميذ</h2>

      <table id="studentsListTable" class="display responsive nowrap" width="100%">
        <thead>
          <tr>
            <th></th>
            <th>الاسم</th>
            <th>العمر</th>
            <th>هاتف الولي</th>
            <th>إجراءات</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="tab-pane fade" id="pills-new_day" role="tabpanel" aria-labelledby="pills-new_day-tab">
      <h2 class="text-center mb-4">التقييم اليومي</h2>
      <div class="date-input-container">
        <div class="date-input-group">
          <span class="date-input-label">تاريخ اليوم:</span>
          <input type="text" id="dayDate" class="date-input-field" dir="ltr" readonly>
          <i class="fas fa-calendar-alt date-icon"></i>
        </div>
      </div>
      <p id="dayNoteContainer" class="border px-2 py-2 mx-2 my-2"></p>

      <table id="dayListTable" style="display: none;" class="display responsive nowrap" width="100%">
        <thead>
          <tr class="text-center">
            <th class=""></th>
            <th class=""></th>
            <th class="px-4">الطالب</th>
            <th class="">الحضور</th>
            <th class="">الكتاب</th>
            <th class="">النوع</th>
            <th class="">المقدار</th>
            <th class="">التقدير</th>
            <th class="">الهندام</t>
            <th class="">الحلاقة</th>
            <th class="">السلوك</th>
            <th class="">الصلاة</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button id="addNewDayBtn" onclick="addNewDay()" class="btn btn-info mx-auto px-5 my-5"
        style="display: none;">إظافة يوم ✚</button>
    </div>

    <div class="tab-pane fade" id="pills-statistics" role="tabpanel" aria-labelledby="pills-statistics-tab">
      <h2 class="text-center mb-4">الإحصائيات</h2>

      <div class="date-input-container">
        <div class="date-input-group">
          <span class="date-input-label">الفترة:</span>
          <input type="text" id="statisticsrange" class="date-input-field" dir="ltr" readonly>
          <i class="fas fa-calendar-alt date-icon"></i>
        </div>
      </div>

      <select id="statisticType" onchange="handleStatisticsSelection(this.value)" class="form-select my-2 text-center"
        aria-label="Default select example">
        <option value="0">-- اختر نوع الإحصاء --</option>
        <option value="attendance">قائمة الغياب</option>
      </select>

      <table id="statisticsTable" class="display" style="width:100%"></table>
    </div>

    <div class="tab-pane fade" id="pills-preferences" role="tabpanel" aria-labelledby="pills-preferences-tab">
      <h2 class="text-center mb-4">التفضيلات</h2>
      <div class="accordion" id="accordionExample">
        <div class="card">
          <div class="card-header" id="headingOne">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-start" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                عامة
              </button>
            </h2>
          </div>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
            data-bs-parent="#pills-preferences">
            <div class="card-body">
              <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">السمة</span>
                <select id="themeSelector" class="form-select">
                  <option value="spacelab" selected>Spacelab</option>
                  <option value="cerulean">Cerulean</option>
                  <option value="cosmo">Cosmo</option>
                  <option value="yeti">Yeti</option>
                  <option value="flatly">Flatly</option>
                  <option value="simplex">Simplex</option>
                  <option value="slate">Slate (dark)</option>
                  <option value="solar">Solar (dark)</option>
                  <option value="cyborg">Cyborg (dark)</option>
                  <option value="superhero">Superhero (dark)</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header" id="headingThree">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                البيانات
              </button>
            </h2>
          </div>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
            data-bs-parent="#pills-preferences">
            <div class="files-inputs">
              <button id="newDBbtn"></button>
              <label for="newDBbtn">جديد</label>
            </div>
            <div class="files-inputs">
              <input type="file" id="fileInput">
              <label for="fileInput">📥 استيراد</label>
            </div>
            <div class="files-inputs">
              <button id="downloadBtn"></button>
              <label for="downloadBtn">📤 تصدير</label>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="nav-bar" style="display: none;">
    <button onclick="showTab('pills-summary'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff" stroke-width="0.5">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M9 17.25C8.58579 17.25 8.25 17.5858 8.25 18C8.25 18.4142 8.58579 18.75 9 18.75H15C15.4142 18.75 15.75 18.4142 15.75 18C15.75 17.5858 15.4142 17.25 15 17.25H9Z">
          </path>
          </path>
          <path
            d="M12 1.25C11.2919 1.25 10.6485 1.45282 9.95055 1.79224C9.27585 2.12035 8.49642 2.60409 7.52286 3.20832L5.45628 4.4909C4.53509 5.06261 3.79744 5.5204 3.2289 5.95581C2.64015 6.40669 2.18795 6.86589 1.86131 7.46263C1.53535 8.05812 1.38857 8.69174 1.31819 9.4407C1.24999 10.1665 1.24999 11.0541 1.25 12.1672V13.7799C1.24999 15.6837 1.24998 17.1866 1.4027 18.3616C1.55937 19.567 1.88856 20.5401 2.63236 21.3094C3.37958 22.0824 4.33046 22.4277 5.50761 22.5914C6.64849 22.75 8.10556 22.75 9.94185 22.75H14.0581C15.8944 22.75 17.3515 22.75 18.4924 22.5914C19.6695 22.4277 20.6204 22.0824 21.3676 21.3094C22.1114 20.5401 22.4406 19.567 22.5973 18.3616C22.75 17.1866 22.75 15.6838 22.75 13.7799V12.1672C22.75 11.0541 22.75 10.1665 22.6818 9.4407C22.6114 8.69174 22.4646 8.05812 22.1387 7.46263C21.8121 6.86589 21.3599 6.40669 20.7711 5.95581C20.2026 5.5204 19.4649 5.06262 18.5437 4.49091L16.4771 3.20831C15.5036 2.60409 14.7241 2.12034 14.0494 1.79224C13.3515 1.45282 12.7081 1.25 12 1.25ZM8.27953 4.50412C9.29529 3.87371 10.0095 3.43153 10.6065 3.1412C11.1882 2.85833 11.6002 2.75 12 2.75C12.3998 2.75 12.8118 2.85833 13.3935 3.14119C13.9905 3.43153 14.7047 3.87371 15.7205 4.50412L17.7205 5.74537C18.6813 6.34169 19.3559 6.76135 19.8591 7.1467C20.3487 7.52164 20.6303 7.83106 20.8229 8.18285C21.0162 8.53589 21.129 8.94865 21.1884 9.58104C21.2492 10.2286 21.25 11.0458 21.25 12.2039V13.725C21.25 15.6959 21.2485 17.1012 21.1098 18.1683C20.9736 19.2163 20.717 19.8244 20.2892 20.2669C19.8649 20.7058 19.2871 20.9664 18.2858 21.1057C17.2602 21.2483 15.9075 21.25 14 21.25H10C8.09247 21.25 6.73983 21.2483 5.71422 21.1057C4.71286 20.9664 4.13514 20.7058 3.71079 20.2669C3.28301 19.8244 3.02642 19.2163 2.89019 18.1683C2.75149 17.1012 2.75 15.6959 2.75 13.725V12.2039C2.75 11.0458 2.75076 10.2286 2.81161 9.58104C2.87103 8.94865 2.98385 8.53589 3.17709 8.18285C3.36965 7.83106 3.65133 7.52164 4.14092 7.1467C4.6441 6.76135 5.31869 6.34169 6.27953 5.74537L8.27953 4.50412Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-students'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff" stroke-width="0.0024000000000000003">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M20,1H4A1,1,0,0,0,3,2V22a1,1,0,0,0,1,1H20a1,1,0,0,0,1-1V2A1,1,0,0,0,20,1ZM19,21H5V3H19ZM9,8.5a3,3,0,1,1,3,3A3,3,0,0,1,9,8.5Zm-2,9a5,5,0,0,1,10,0,1,1,0,0,1-2,0,3,3,0,0,0-6,0,1,1,0,0,1-2,0Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-new_day'); return false;">
      <svg fill="#ffffff" width="256px" height="30px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff" stroke-width="0.0024000000000000003">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M11 6L21 6.00072M11 12L21 12.0007M11 18L21 18.0007M3 11.9444L4.53846 13.5L8 10M3 5.94444L4.53846 7.5L8 4M4.5 18H4.51M5 18C5 18.2761 4.77614 18.5 4.5 18.5C4.22386 18.5 4 18.2761 4 18C4 17.7239 4.22386 17.5 4.5 17.5C4.77614 17.5 5 17.7239 5 18Z"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-statistics'); return false;">
      <svg fill="#ffffff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M4,23a1,1,0,0,1-1-1V19a1,1,0,0,1,2,0v3A1,1,0,0,1,4,23Zm9-1V15a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Zm7-11a1,1,0,0,0-1,1V22a1,1,0,0,0,2,0V12A1,1,0,0,0,20,11Zm.382-9.923A.991.991,0,0,0,20,1H16a1,1,0,0,0,0,2h1.586L12,8.586,8.707,5.293a1,1,0,0,0-1.414,0l-4,4a1,1,0,0,0,1.414,1.414L8,7.414l3.293,3.293a1,1,0,0,0,1.414,0L19,4.414V6a1,1,0,0,0,2,0V2a1,1,0,0,0-.618-.923Z">
          </path>
        </g>
      </svg>
    </button>
    <button onclick="showTab('pills-preferences'); return false;">
      <svg width="256px" height="256px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path d="M6 5V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
          <path d="M12 5V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
          <path d="M18 5V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
          <path
            d="M8.5 16C8.5 17.3807 7.38071 18.5 6 18.5C4.61929 18.5 3.5 17.3807 3.5 16C3.5 14.6193 4.61929 13.5 6 13.5C7.38071 13.5 8.5 14.6193 8.5 16Z"
            fill="#ffffff"></path>
          <path
            d="M14.5 9C14.5 10.3807 13.3807 11.5 12 11.5C10.6193 11.5 9.5 10.3807 9.5 9C9.5 7.61929 10.6193 6.5 12 6.5C13.3807 6.5 14.5 7.61929 14.5 9Z"
            fill="#ffffff"></path>
          <path
            d="M20.5 16C20.5 17.3807 19.3807 18.5 18 18.5C16.6193 18.5 15.5 17.3807 15.5 16C15.5 14.6193 16.6193 13.5 18 13.5C19.3807 13.5 20.5 14.6193 20.5 16Z"
            fill="#ffffff"></path>
        </g>
      </svg>
    </button>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newClassroomInfosModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newClassroomInfosModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newClassroomInfosModalLabel">معلومات القسم</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="newClassroomInfosForm">
            <input type="hidden" id="classroomId" />
            <label for="mosque">المسجد/المؤسسة:</label>
            <input type="text" id="mosque" class="form-control" required />
            <label for="place">المكان:</label>
            <input type="text" id="place" class="form-control" required />
            <label for="sex">الجنس:</label>
            <select id="sex" class="form-control" required>
              <option value="ذكور">ذكور</option>
              <option value="إناث">إناث</option>
            </select>
            <label for="level">المستوى:</label>
            <input type="text" id="level" class="form-control" required />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
          <button type="submit" class="btn btn-primary">إظافة</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newStudentInfosModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newStudentDayModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newStudentInfosModalLabel">معلومات التلميذ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <form id="newStudentInfosForm">
            <input type="hidden" id="studentId" />
            <label for="name">الاسم:</label>
            <input type="text" id="name" class="form-control" required />
            <label for="birthday">تاريخ الميلاد:</label>
            <input type="date" id="birthday" class="form-control" required />
            <label for="parentPhone">هاتف الولي:</label>
            <input type="text" id="parentPhone" class="form-control"
              title="رقم هاتف جزائري يبدأ بـ 05 أو 06 أو 07 ويتكون من 10 أرقام" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
          <button type="submit" class="btn btn-primary">إظافة</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal for adding a new student -->
  <div class="modal fade" id="newStudentDayModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="newStudentDayModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="studentDayForm">
          <div class="modal-header">
            <h5 class="modal-title" id="newStudentDayModalLabel">يوم التلميذ</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            </button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="studentName">اسم التلميذ:</label>
              <input type="text" class="form-control" id="studentName" readonly />
            </div>
            <div class="mb-3">
              <label for="attendance">الحضور:</label>
              <select class="form-control" id="attendance" required>
                <option value="5">حضور كلي</option>
                <option value="4">تأخر قليل</option>
                <option value="3">تأخر</option>
                <option value="2">تأخر طويل</option>
                <option value="1">غائب</option>
              </select>
            </div>

            <div class="my-1 d-flex align-items-center">
              <hr class="flex-grow-1">
              <span class="mx-2 text-muted">المطلوب</span>
              <hr class="flex-grow-1">
            </div>
            <div class="table-responsive">
              <table class="table" id="requirementTable" style="display: none;">
                <thead>
                  <tr>
                    <th scope="col">الكتاب</th>
                    <th scope="col">النوع</th>
                    <th scope="col" class="d-none">المقدار</th>
                    <th scope="col">التفاصيل</th>
                    <th scope="col">التقدير</th>
                    <th scope="col">المعدل</th>
                    <th scope="col">الحالة</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
            </div>
            <div class="card px-2 py-2 mb-2">
              <div class="row">
                <div class="col">
                  <div class="mb-3">
                    <label for="requirBook">الكتاب:</label>
                    <input list="requirBookOptions" class="form-control" id="requirBook"
                      placeholder="اختر أو أدخل قيمة..." />
                    <datalist id="requirBookOptions">
                      <option value="القرآن">
                      <option value="الأربعين النووية">
                    </datalist>
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label for="requirType">النوع:</label>
                    <select class="form-control" id="requirType">
                      <option value="حفظ">حفظ</option>
                      <option value="مراجعة">مراجعة</option>
                    </select>
                  </div>
                </div>
                <div class="w-100"></div>

                <div class="mb-3">
                  <label for="">التفاصيل:</label>
                  <textarea type="text" id="requirQuantityDetail" class="form-control"></textarea>
                  <div class="input-group mb-3" id="quranSelectionSection" style="display: none;">
                    <select id="first-surah" class="form-control surah-select">
                      <option value="" selected disabled>من</option>
                    </select>
                    <select id="first-ayah" class="form-control ayah-select" disabled></select>
                    <select id="second-surah" class="form-control surah-select" disabled>
                      <option value="" selected disabled>إلى</option>
                    </select>
                    <select id="second-ayah" class="form-control ayah-select" disabled></select>
                  </div>
                </div>
                <div class="w-100"></div>
                <div class="col">
                  <div class="mb-3">
                    <label for="requirQuantity">المقدار:</label>
                    <input type="number" id="requirQuantity" class="form-control" min="0" step="0.5" />
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label for="requirEvaluation">التقدير:</label>
                    <input type="number" id="requirEvaluation" class="form-control" min="0" max="10" step="0.5" />
                  </div>
                </div>
                <div class="w-100"></div>
                <div class="col">
                  <div class="mb-3">
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="requirSwitch" checked>
                      <label class="form-check-label" for="requirSwitch">تعيين كواجب</label>
                    </div>
                  </div>
                </div>
                <div class="col">
                  <div class="">
                    <button type="button" data-requirlength="0" class="btn btn-info mx-auto w-100"
                      id="addQuranSelectionBtn">إظافة +</button>
                  </div>
                </div>
              </div>

            </div>

            <div class="mb-3">
              <label for="requirMoyenne">معدل المطلوب:</label>
              <input type="number" class="form-control" id="requirMoyenne" readonly required />
            </div>
            <div class="my-1 d-flex align-items-center">
              <hr class="flex-grow-1">
              <span class="mx-2 text-muted">الملاحظات الأخرى</span>
              <hr class="flex-grow-1">
            </div>
            <div class="row">
              <div class="col">
                <div class="mb-3">
                  <label for="clothing">الهندام:</label>
                  <select class="form-control" id="clothing" required>
                    <option value="3">جيد</option>
                    <option value="2">مقبول</option>
                    <option value="1">غير مقبول</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="mb-3">
                  <label for="haircut">الحلاقة:</label>
                  <select class="form-control" id="haircut" required>
                    <option value="3">جيد</option>
                    <option value="2">مقبول</option>
                    <option value="1">غير مقبول</option>
                  </select>
                </div>
              </div>
              <div class="w-100"></div>
              <div class="col">
                <div class="mb-3">
                  <label for="behavior">السلوك:</label>
                  <select class="form-control" id="behavior" required>
                    <option value="5">ممتاز</option>
                    <option value="4">جيد</option>
                    <option value="3">مقبول</option>
                    <option value="0">سيئ</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="mb-3">
                  <label for="prayer">الصلاة:</label>
                  <select class="form-control" id="prayer" required>
                    <option value="4">ممتاز</option>
                    <option value="0">غائب</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
            <button id="studentDayFormSubmitBtn" type="submit" class="btn btn-primary">حفظ</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="loadingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="loadingModalLabel" aria-hidden="true" style="z-index: 1101;">
    <div class="modal-dialog modal-sm px-5">
      <div class="modal-content">
        <div class="modal-body text-center">
          <i class="fa-solid fa-circle-notch fa-spin fa-6x"></i>
        </div>
      </div>
    </div>
  </div>

  <div id="toastWrapper" class="toast-wrapper" aria-live="polite" aria-atomic="true"></div>
</body>
<script>
  window.addEventListener('load', function () {
    const preloader = document.querySelector('.fa-preloader');
    preloader.style.opacity = '0';
    setTimeout(() => {
      preloader.style.display = 'none';
    }, 500);
  });
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.13.0/sql-wasm.js"
  integrity="sha512-Yra4xuTWinXfBpG2ftgDX8MVmMiOev1FtqiYs51+kEna/5peD0kZqAL1syYCH61f9gxmAFidIJz42IKcRhWMkw=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/ui/6.0.2/firebase-ui-auth.js"></script>
<script src="https://cdn.datatables.net/2.3.2/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.3.2/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.bootstrap5.js"></script>
<script src="src/pdfmake.js"></script>
<script src="src/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.html5.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.print.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/moment/min/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/downloadjs@1.4.7/download.min.js"></script>

<script>
  if (typeof navigator.serviceWorker !== 'undefined') {
    navigator.serviceWorker.register('src/sw.js')
  }
</script>
<script src="src/auth.js"></script>
<script src="src/script.js"></script>

</html>